\hypertarget{_program_8cs_source}{}\doxysection{Program.\+cs}
\mbox{\hyperlink{_program_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00001}00001 \textcolor{keyword}{using} System;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00002}00002 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00003}00003 \textcolor{keyword}{using} System.IO;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00004}00004 \textcolor{keyword}{using} System.Numerics;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00005}00005 \textcolor{keyword}{using} System.Threading.Tasks;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00007}00007 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_simulation}{Simulation}}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00008}00008 \{}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00009}\mbox{\hyperlink{class_simulation_1_1_program}{00009}}     \textcolor{keyword}{class }\mbox{\hyperlink{class_simulation_1_1_program}{Program}}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00010}00010     \{}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00011}00011         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00012}00012 \textcolor{comment}{         * POINT1}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00013}00013 \textcolor{comment}{         *   v}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00014}00014 \textcolor{comment}{         *   |}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00015}00015 \textcolor{comment}{         *   |}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00016}00016 \textcolor{comment}{         *   |}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00017}00017 \textcolor{comment}{         *   |}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00018}00018 \textcolor{comment}{         *   |}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00019}00019 \textcolor{comment}{         *   \(\backslash\)-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ < POINT2}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00020}00020 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00025}\mbox{\hyperlink{class_simulation_1_1_program_a75600e56fdc16b378070415bea27e6a4}{00025}}         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_simulation_1_1_program_a75600e56fdc16b378070415bea27e6a4}{s1}} = 15;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00029}\mbox{\hyperlink{class_simulation_1_1_program_a6d3b4168fbe68c0b12fb6bf8c830a882}{00029}}         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_simulation_1_1_program_a6d3b4168fbe68c0b12fb6bf8c830a882}{s2}} = 10;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00034}\mbox{\hyperlink{class_simulation_1_1_program_a2b54c83c028957068ee24218303f1028}{00034}}         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_simulation_1_1_program_a2b54c83c028957068ee24218303f1028}{v1}} = 15;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00038}\mbox{\hyperlink{class_simulation_1_1_program_aafc12523bed75a6c430bb9b6f91e23d0}{00038}}         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_simulation_1_1_program_aafc12523bed75a6c430bb9b6f91e23d0}{v2}} = 20;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00043}\mbox{\hyperlink{class_simulation_1_1_program_afbf9833714926fb9affdbb8472c13bc4}{00043}}         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_simulation_1_1_program_afbf9833714926fb9affdbb8472c13bc4}{m1}} = 10;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00047}\mbox{\hyperlink{class_simulation_1_1_program_a60a4fe8f68d88b64dbd038e9a23bb1b9}{00047}}         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_simulation_1_1_program_a60a4fe8f68d88b64dbd038e9a23bb1b9}{m2}} = 20;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00052}\mbox{\hyperlink{class_simulation_1_1_program_acd65fd2223bc738011ae53f56063bf55}{00052}}         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_simulation_1_1_program_acd65fd2223bc738011ae53f56063bf55}{a1}} = 2;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00056}\mbox{\hyperlink{class_simulation_1_1_program_a7d8d5bb0db23535dbe5f0519cddca161}{00056}}         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_simulation_1_1_program_a7d8d5bb0db23535dbe5f0519cddca161}{a2}} = 1;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00058}00058         \textcolor{keyword}{static} \textcolor{keywordtype}{void} Main(\textcolor{keywordtype}{string}[] args)}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00059}00059         \{}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00060}00060             Console.WriteLine(\textcolor{stringliteral}{"{}Creating worlds..."{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00061}00061             \textcolor{comment}{// Create seperate worlds for each simulation}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00062}00062             \mbox{\hyperlink{class_simulation_1_1_world}{World}} constVelWorld = \textcolor{keyword}{new} \mbox{\hyperlink{class_simulation_1_1_world}{World}}();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00063}00063             var constPoint1 = \textcolor{keyword}{new} \mbox{\hyperlink{class_simulation_1_1_dynamic_world_point}{DynamicWorldPoint}}(constVelWorld, \textcolor{keyword}{new} Vector2(0, \mbox{\hyperlink{class_simulation_1_1_program_a75600e56fdc16b378070415bea27e6a4}{s1}}), \mbox{\hyperlink{class_simulation_1_1_program_afbf9833714926fb9affdbb8472c13bc4}{m1}}, \textcolor{keyword}{new} Vector2(0, -\/\mbox{\hyperlink{class_simulation_1_1_program_a2b54c83c028957068ee24218303f1028}{v1}}));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00064}00064             var constPoint2 = \textcolor{keyword}{new} \mbox{\hyperlink{class_simulation_1_1_dynamic_world_point}{DynamicWorldPoint}}(constVelWorld, \textcolor{keyword}{new} Vector2(\mbox{\hyperlink{class_simulation_1_1_program_a6d3b4168fbe68c0b12fb6bf8c830a882}{s2}}, 0), \mbox{\hyperlink{class_simulation_1_1_program_a60a4fe8f68d88b64dbd038e9a23bb1b9}{m2}}, \textcolor{keyword}{new} Vector2(-\/\mbox{\hyperlink{class_simulation_1_1_program_aafc12523bed75a6c430bb9b6f91e23d0}{v2}}, 0));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00066}00066             \mbox{\hyperlink{class_simulation_1_1_world}{World}} accelVelWorld = \textcolor{keyword}{new} \mbox{\hyperlink{class_simulation_1_1_world}{World}}();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00067}00067             var accelPoint1 = \textcolor{keyword}{new} \mbox{\hyperlink{class_simulation_1_1_dynamic_world_point}{DynamicWorldPoint}}(accelVelWorld, \textcolor{keyword}{new} Vector2(0, \mbox{\hyperlink{class_simulation_1_1_program_a75600e56fdc16b378070415bea27e6a4}{s1}}), \mbox{\hyperlink{class_simulation_1_1_program_afbf9833714926fb9affdbb8472c13bc4}{m1}}, \textcolor{keyword}{new} Vector2(0, -\/\mbox{\hyperlink{class_simulation_1_1_program_a2b54c83c028957068ee24218303f1028}{v1}}));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00068}00068             accelPoint1.StartApplyingForce(\textcolor{keyword}{new} Vector2(0, -\/(\mbox{\hyperlink{class_simulation_1_1_program_acd65fd2223bc738011ae53f56063bf55}{a1}} * \mbox{\hyperlink{class_simulation_1_1_program_afbf9833714926fb9affdbb8472c13bc4}{m1}})));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00069}00069             var accelPoint2 = \textcolor{keyword}{new} \mbox{\hyperlink{class_simulation_1_1_dynamic_world_point}{DynamicWorldPoint}}(accelVelWorld, \textcolor{keyword}{new} Vector2(\mbox{\hyperlink{class_simulation_1_1_program_a6d3b4168fbe68c0b12fb6bf8c830a882}{s2}}, 0), \mbox{\hyperlink{class_simulation_1_1_program_a60a4fe8f68d88b64dbd038e9a23bb1b9}{m2}}, \textcolor{keyword}{new} Vector2(-\/\mbox{\hyperlink{class_simulation_1_1_program_aafc12523bed75a6c430bb9b6f91e23d0}{v2}}, 0));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00070}00070             accelPoint2.StartApplyingForce(\textcolor{keyword}{new} Vector2(-\/(\mbox{\hyperlink{class_simulation_1_1_program_a7d8d5bb0db23535dbe5f0519cddca161}{a2}} * \mbox{\hyperlink{class_simulation_1_1_program_a60a4fe8f68d88b64dbd038e9a23bb1b9}{m2}}), 0));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00072}00072             Console.WriteLine(\textcolor{stringliteral}{"{}Creating simulations..."{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00073}00073             \mbox{\hyperlink{namespace_simulation}{Simulation}} constSimulation = \textcolor{keyword}{new} StepSimulation(constVelWorld, TimeSpan.FromMilliseconds(1), TimeSpan.FromSeconds(10));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00074}00074             \mbox{\hyperlink{namespace_simulation}{Simulation}} accelSimulation = \textcolor{keyword}{new} StepSimulation(accelVelWorld, TimeSpan.FromMilliseconds(1), TimeSpan.FromSeconds(10));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00076}00076             \textcolor{comment}{// Run the simulations}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00077}00077             Console.WriteLine(\textcolor{stringliteral}{"{}Constant speed simulation:"{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00078}00078             var closestConstEncounter = \mbox{\hyperlink{class_simulation_1_1_program_a10c0253a8fdd94c17c718016a494e03f}{FindClosestEncounter}}(constSimulation, constPoint1, constPoint2, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00079}00079             Console.WriteLine(\textcolor{stringliteral}{"{}Constant speed simulation:"{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00080}00080             var closestAccelEncounter = \mbox{\hyperlink{class_simulation_1_1_program_a10c0253a8fdd94c17c718016a494e03f}{FindClosestEncounter}}(accelSimulation, accelPoint1, accelPoint2, \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00081}00081 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00082}00082             \textcolor{comment}{// Print the results}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00083}00083             Console.WriteLine(\$\textcolor{stringliteral}{"{}Closest encounter with constnant speed happend \{ closestConstEncounter.Timestamp.TotalSeconds.ToString("{}}0.000\textcolor{stringliteral}{"{}) \} seconds after the epoch. Points were \{ closestConstEncounter.Distance \}m apart from eachother."{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00084}00084             Console.WriteLine(\$\textcolor{stringliteral}{"{}Closest encounter when accelerating happend \{ closestAccelEncounter.Timestamp.TotalSeconds.ToString("{}}0.000\textcolor{stringliteral}{"{}) \} seconds after the epoch. Points were \{ closestAccelEncounter.Distance \}m apart from eachother."{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00085}00085             Console.ReadKey(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00086}00086         \}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00095}\mbox{\hyperlink{class_simulation_1_1_program_a10c0253a8fdd94c17c718016a494e03f}{00095}}         \textcolor{keyword}{public} \textcolor{keyword}{static} \mbox{\hyperlink{struct_simulation_1_1_encounter}{Encounter}} \mbox{\hyperlink{class_simulation_1_1_program_a10c0253a8fdd94c17c718016a494e03f}{FindClosestEncounter}}(\mbox{\hyperlink{namespace_simulation}{Simulation}} simulation, \mbox{\hyperlink{class_simulation_1_1_dynamic_world_point}{DynamicWorldPoint}} obj1, \mbox{\hyperlink{class_simulation_1_1_dynamic_world_point}{DynamicWorldPoint}} obj2, \textcolor{keywordtype}{bool} reportTime = \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00096}00096         \{}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00097}00097             \mbox{\hyperlink{struct_simulation_1_1_encounter}{Encounter}} closest;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00098}00098             \textcolor{keyword}{using} (var watcher = \textcolor{keyword}{new} \mbox{\hyperlink{class_simulation_1_1_closest_encounter_watcher}{ClosestEncounterWatcher}}(simulation, obj1, obj2))}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00099}00099             \{}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00100}00100                 Console.WriteLine(\textcolor{stringliteral}{"{}Simulating..."{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00101}00101                 Console.Write(\textcolor{stringliteral}{"{}Seconds Processed: "{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00102}00102                 \textcolor{keywordflow}{if}(reportTime)}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00103}00103                     simulation.Stepped += Simulation\_ReportTime;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00104}00104 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00105}00105                 simulation.Simulate();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00106}00106                 Console.WriteLine();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00107}00107                 closest = watcher.CurrentClosestEncounter;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00108}00108             \}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00110}00110             \textcolor{keywordflow}{if} (reportTime)}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00111}00111                 simulation.Stepped -\/= Simulation\_ReportTime;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00113}00113             \textcolor{keywordflow}{return} closest;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00114}00114 }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00115}00115             \textcolor{keyword}{static} \textcolor{keywordtype}{void} Simulation\_ReportTime(\textcolor{keywordtype}{object} sender, \mbox{\hyperlink{class_simulation_1_1_stepped_event_args}{SteppedEventArgs}} e)}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00116}00116             \{}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00117}00117                 \textcolor{keywordtype}{int} x = Console.CursorLeft, y = Console.CursorTop;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00118}00118                 Console.Write(e.\mbox{\hyperlink{class_simulation_1_1_stepped_event_args_ab085d99c781df56bbe3559a92555b5cb}{TimeSinceEpoch}}.TotalSeconds.ToString(\textcolor{stringliteral}{"{}0.000"{}}));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00119}00119                 Console.SetCursorPosition(x, y);}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00120}00120             \}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00121}00121         \}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00122}00122     \}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00123}00123 \}}

\end{DoxyCode}
